<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for js/editor/data-panel/data.controller.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">js/editor/data-panel/data.controller.js</span></h1>
    <h2>
        Statements: <span class="metric">86.67% <small>(26 / 30)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">62.5% <small>(5 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">66.67% <small>(8 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">89.66% <small>(26 / 29)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">js/editor/data-panel/</a> &#187; data.controller.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">14</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-yes">14</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict'; /**
               * Copyright (C) 2015 Bonitasoft S.A.
               * Bonitasoft, 32 rue Gustave Eiffel - 38000 Grenoble
               * This program is free software: you can redistribute it and/or modify
               * it under the terms of the GNU General Public License as published by
               * the Free Software Foundation, either version 2.0 of the License, or
               * (at your option) any later version.
               * This program is distributed in the hope that it will be useful,
               * but WITHOUT ANY WARRANTY; without even the implied warranty of
               * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
               * GNU General Public License for more details.
               * You should have received a copy of the GNU General Public License
               * along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.
               */
angular.module('bonitasoft.designer.editor.data-panel').controller('DataCtrl', function ($scope, dataTypeService, $location, $uibModal, artifact, mode) {
&nbsp;
  'use strict';
&nbsp;
  $scope.searchedData = '';
  $scope.page = artifact;
  $scope.pageData = artifact.data;
  $scope.getLabel = dataTypeService.getDataLabel;
  $scope.exposableData = mode !== 'page';
  $scope.keys = Object.keys;
&nbsp;
  $scope.delete = function (dataName) {
    delete $scope.page.data[dataName];
    $scope.filterPageData();};
&nbsp;
&nbsp;
  $scope.save = function (data) {
    $scope.page.data[data.$$name] = { 
      exposed: data.exposed, 
      type: data.type, 
      value: data.value };
&nbsp;
    $scope.filterPageData();};
&nbsp;
&nbsp;
  $scope.filterPageData = function () {
    function matchData(pattern, key, data) {
      return key.indexOf(pattern.trim()) !== -1 || angular.toJson(data || <span class="branch-1 cbranch-no" title="branch not covered" >{})</span>.indexOf(pattern.trim()) !== -1;}
&nbsp;
&nbsp;
    $scope.pageData = Object.keys($scope.page.data).reduce(function (data, key) {
      if (matchData($scope.searchedData, key, artifact.data[key].value)) {
        data[key] = artifact.data[key];}
&nbsp;
      return data;}, 
    {});};
&nbsp;
&nbsp;
  $scope.$watch('searchedData', function () {
    $scope.filterPageData();});
&nbsp;
&nbsp;
  $scope.openDataPopup = function (key) {
    var modalInstance = $uibModal.open({ 
      templateUrl: 'js/editor/data-panel/data-popup.html', 
      controller: 'DataPopupController', 
      resolve: { 
        mode: <span class="fstat-no" title="function not covered" >function () {<span class="cstat-no" title="statement not covered" ></span>return mode;}</span>, 
        pageData: <span class="fstat-no" title="function not covered" >function () {<span class="cstat-no" title="statement not covered" ></span>return artifact.data;}</span>, 
        data: <span class="fstat-no" title="function not covered" >function () {<span class="cstat-no" title="statement not covered" ></span>return key &amp;&amp; angular.extend({}, artifact.data[key], { $$name: key });}</span> } });
&nbsp;
&nbsp;
&nbsp;
    modalInstance.result.then($scope.save);};
&nbsp;
&nbsp;
&nbsp;
  $scope.openHelp = <span class="fstat-no" title="function not covered" >function () {<span class="cstat-no" title="statement not covered" ></span>return $uibModal.open({ templateUrl: 'js/editor/data-panel/help-popup.html', size: 'lg' });}</span>;});
//# sourceMappingURL=data:application/json;base64,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bnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTUgQm9uaXRhc29mdCBTLkEuXG4gKiBCb25pdGFzb2Z0LCAzMiBydWUgR3VzdGF2ZSBFaWZmZWwgLSAzODAwMCBHcmVub2JsZVxuICogVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAyLjAgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICogVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdib25pdGFzb2Z0LmRlc2lnbmVyLmVkaXRvci5kYXRhLXBhbmVsJykuY29udHJvbGxlcignRGF0YUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIGRhdGFUeXBlU2VydmljZSwgJGxvY2F0aW9uLCAkdWliTW9kYWwsIGFydGlmYWN0LCBtb2RlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gICRzY29wZS5zZWFyY2hlZERhdGEgPSAnJztcbiAgJHNjb3BlLnBhZ2UgPSBhcnRpZmFjdDtcbiAgJHNjb3BlLnBhZ2VEYXRhID0gYXJ0aWZhY3QuZGF0YTtcbiAgJHNjb3BlLmdldExhYmVsID0gZGF0YVR5cGVTZXJ2aWNlLmdldERhdGFMYWJlbDtcbiAgJHNjb3BlLmV4cG9zYWJsZURhdGEgPSBtb2RlICE9PSAncGFnZSc7XG4gICRzY29wZS5rZXlzID0gT2JqZWN0LmtleXM7XG5cbiAgJHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uKGRhdGFOYW1lKSB7XG4gICAgZGVsZXRlICRzY29wZS5wYWdlLmRhdGFbZGF0YU5hbWVdO1xuICAgICRzY29wZS5maWx0ZXJQYWdlRGF0YSgpO1xuICB9O1xuXG4gICRzY29wZS5zYXZlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICRzY29wZS5wYWdlLmRhdGFbZGF0YS4kJG5hbWVdID0ge1xuICAgICAgZXhwb3NlZDogZGF0YS5leHBvc2VkLFxuICAgICAgdHlwZTogZGF0YS50eXBlLFxuICAgICAgdmFsdWU6IGRhdGEudmFsdWVcbiAgICB9O1xuICAgICRzY29wZS5maWx0ZXJQYWdlRGF0YSgpO1xuICB9O1xuXG4gICRzY29wZS5maWx0ZXJQYWdlRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIG1hdGNoRGF0YShwYXR0ZXJuLCBrZXksIGRhdGEpIHtcbiAgICAgIHJldHVybiBrZXkuaW5kZXhPZihwYXR0ZXJuLnRyaW0oKSkgIT09IC0xIHx8IGFuZ3VsYXIudG9Kc29uKGRhdGEgfHwge30pLmluZGV4T2YocGF0dGVybi50cmltKCkpICE9PSAtMTtcbiAgICB9XG5cbiAgICAkc2NvcGUucGFnZURhdGEgPSBPYmplY3Qua2V5cygkc2NvcGUucGFnZS5kYXRhKS5yZWR1Y2UoZnVuY3Rpb24oZGF0YSwga2V5KSB7XG4gICAgICBpZiAobWF0Y2hEYXRhKCRzY29wZS5zZWFyY2hlZERhdGEsIGtleSwgYXJ0aWZhY3QuZGF0YVtrZXldLnZhbHVlKSkge1xuICAgICAgICBkYXRhW2tleV0gPSBhcnRpZmFjdC5kYXRhW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9LCB7fSk7XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaCgnc2VhcmNoZWREYXRhJywgKCkgPT4ge1xuICAgICRzY29wZS5maWx0ZXJQYWdlRGF0YSgpO1xuICB9KTtcblxuICAkc2NvcGUub3BlbkRhdGFQb3B1cCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgdGVtcGxhdGVVcmw6ICdqcy9lZGl0b3IvZGF0YS1wYW5lbC9kYXRhLXBvcHVwLmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogJ0RhdGFQb3B1cENvbnRyb2xsZXInLFxuICAgICAgcmVzb2x2ZToge1xuICAgICAgICBtb2RlOiAoKSA9PiBtb2RlLFxuICAgICAgICBwYWdlRGF0YTogKCkgPT4gYXJ0aWZhY3QuZGF0YSxcbiAgICAgICAgZGF0YTogKCkgPT4ga2V5ICYmIGFuZ3VsYXIuZXh0ZW5kKHt9LCBhcnRpZmFjdC5kYXRhW2tleV0sIHsgJCRuYW1lOiBrZXkgfSlcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oJHNjb3BlLnNhdmUpO1xuXG4gIH07XG5cbiAgJHNjb3BlLm9wZW5IZWxwID0gKCkgPT4gJHVpYk1vZGFsLm9wZW4oeyB0ZW1wbGF0ZVVybDogJ2pzL2VkaXRvci9kYXRhLXBhbmVsL2hlbHAtcG9wdXAuaHRtbCcsIHNpemU6ICdsZycgfSk7XG59KTtcbiJdfQ==</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Jun 28 2016 07:45:53 GMT+0530 (IST)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
