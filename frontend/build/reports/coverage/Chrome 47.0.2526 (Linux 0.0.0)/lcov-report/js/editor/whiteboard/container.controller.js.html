<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for js/editor/whiteboard/container.controller.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">js/editor/whiteboard/container.controller.js</span></h1>
    <h2>
        Statements: <span class="metric">100% <small>(44 / 44)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">100% <small>(28 / 28)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">100% <small>(12 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">100% <small>(44 / 44)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">js/editor/whiteboard/</a> &#187; container.controller.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-yes">197</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-yes">172</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-yes">139</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">53</span>
<span class="cline-any cline-yes">87</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict'; /**
               * Copyright (C) 2015 Bonitasoft S.A.
               * Bonitasoft, 32 rue Gustave Eiffel - 38000 Grenoble
               * This program is free software: you can redistribute it and/or modify
               * it under the terms of the GNU General Public License as published by
               * the Free Software Foundation, either version 2.0 of the License, or
               * (at your option) any later version.
               * This program is distributed in the hope that it will be useful,
               * but WITHOUT ANY WARRANTY; without even the implied warranty of
               * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
               * GNU General Public License for more details.
               * You should have received a copy of the GNU General Public License
               * along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.
               */
/**
 * Controller of the container directive
 */
angular.module('bonitasoft.designer.editor.whiteboard').controller('ContainerDirectiveCtrl', function ($scope, $rootScope, arrays, componentUtils) {
&nbsp;
  'use strict';
&nbsp;
  $scope.resizable = true;
&nbsp;
  $scope.moveRowUp = function (row, event) {
    arrays.moveLeft(row, $scope.container.rows);
    event.stopPropagation();};
&nbsp;
&nbsp;
  $scope.moveRowDown = function (row, event) {
    arrays.moveRight(row, $scope.container.rows);
    event.stopPropagation();};
&nbsp;
&nbsp;
  $scope.moveRowUpVisible = function (row) {
    return arrays.moveLeftPossible(row, $scope.container.rows);};
&nbsp;
&nbsp;
  $scope.moveRowDownVisible = function (row) {
    return arrays.moveRightPossible(row, $scope.container.rows);};
&nbsp;
&nbsp;
  /**
   * When I drop an item already configured I want to remove it from its current row in order to attach it in another one.
   * @param  {Object} data Widget configuration
   * @param  {Array} row  current row
   * @return {void}
   */
  $scope.dropItem = function (data, row) {
&nbsp;
    // You cannot drop a container inside itself, nor in its children
    if (!componentUtils.isMovable(data, $scope.component || $scope.container)) {
      return;}
&nbsp;
&nbsp;
    $scope.editor.selectRow($scope.container, row);
    $scope.editor.removeCurrentComponent(data, row);};
&nbsp;
&nbsp;
  $scope.removeRow = function (row) {
    $scope.editor.selectRow($scope.container, row);
    $scope.editor.removeCurrentRow();};
&nbsp;
&nbsp;
  $scope.dropAtEndOfTheRow = function (data, event, row) {
&nbsp;
    row = row || [];
    // If you are trying to dragAndDrop a widget already defined
    if (data.$$widget) {
&nbsp;
      if (!componentUtils.isMovable(data, $scope.component || $scope.container)) {
        return;}
&nbsp;
      $scope.editor.selectRow($scope.container, row);
      $scope.editor.dropElement(data);
      return;}
&nbsp;
&nbsp;
    $scope.editor.addComponentToRow(data, $scope.container, row);};
&nbsp;
&nbsp;
  $scope.dropBeforeRow = function (data, event, rowIndex, rows) {
    var currentComponent = $scope.component || $scope.container;
    // Do not add a row if the container is not movable
    if (currentComponent.id || componentUtils.isMovable(data, currentComponent)) {
      rows.splice(rowIndex, 0, []);}
&nbsp;
    $scope.dropAtEndOfTheRow(data, event, rows[rowIndex]);};
&nbsp;
&nbsp;
  $scope.dropAfterRow = function (data, event, rowIndex, rows) {
    var currentComponent = $scope.component || $scope.container;
&nbsp;
    // Do not add a row if the container is not movable
    if (currentComponent.id || componentUtils.isMovable(data, currentComponent)) {
      rowIndex = rowIndex + 1;
      rows.splice(rowIndex, 0, []);}
&nbsp;
    $scope.dropAtEndOfTheRow(data, event, rows[rowIndex]);};
&nbsp;
&nbsp;
  $scope.isEmpty = function (container) {
    return componentUtils.isEmpty(container);};
&nbsp;
&nbsp;
  $scope.isRepeated = function (container) {
    return container &amp;&amp; container.propertyValues &amp;&amp; container.propertyValues.repeatedCollection &amp;&amp; container.propertyValues.repeatedCollection.value;};});
//# sourceMappingURL=data:application/json;base64,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RUFBc0MsS0FBSyxRQUFMLENBQXRDLEVBQ0QsQ0FQRDs7O0FBU0EsU0FBTyxZQUFQLEdBQXNCLFVBQVMsSUFBVCxFQUFlLEtBQWYsRUFBc0IsUUFBdEIsRUFBZ0MsSUFBaEMsRUFBc0M7QUFDMUQsUUFBSSxtQkFBbUIsT0FBTyxTQUFQLElBQW9CLE9BQU8sU0FBbEQ7OztBQUdBLFFBQUksaUJBQWlCLEVBQWpCLElBQXVCLGVBQWUsU0FBZixDQUF5QixJQUF6QixFQUErQixnQkFBL0IsQ0FBM0IsRUFBNkU7QUFDM0UsaUJBQVcsV0FBVyxDQUF0QjtBQUNBLFdBQUssTUFBTCxDQUFZLFFBQVosRUFBc0IsQ0FBdEIsRUFBeUIsRUFBekIsRUFDRDs7QUFDRCxXQUFPLGlCQUFQLENBQXlCLElBQXpCLEVBQStCLEtBQS9CLEVBQXNDLEtBQUssUUFBTCxDQUF0QyxFQUNELENBVEQ7OztBQVdBLFNBQU8sT0FBUCxHQUFpQixVQUFTLFNBQVQsRUFBb0I7QUFDbkMsV0FBTyxlQUFlLE9BQWYsQ0FBdUIsU0FBdkIsQ0FBUCxDQUNELENBRkQ7OztBQUlBLFNBQU8sVUFBUCxHQUFvQixVQUFTLFNBQVQsRUFBb0I7QUFDdEMsV0FBTyxhQUFhLFVBQVUsY0FBdkIsSUFBeUMsVUFBVSxjQUFWLENBQXlCLGtCQUFsRSxJQUF3RixVQUFVLGNBQVYsQ0FBeUIsa0JBQXpCLENBQTRDLEtBQTNJLENBQ0QsQ0FGRCxDQUdELENBMUZEIiwiZmlsZSI6ImNvbnRhaW5lci5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTUgQm9uaXRhc29mdCBTLkEuXG4gKiBCb25pdGFzb2Z0LCAzMiBydWUgR3VzdGF2ZSBFaWZmZWwgLSAzODAwMCBHcmVub2JsZVxuICogVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAyLjAgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICogVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbi8qKlxuICogQ29udHJvbGxlciBvZiB0aGUgY29udGFpbmVyIGRpcmVjdGl2ZVxuICovXG5hbmd1bGFyLm1vZHVsZSgnYm9uaXRhc29mdC5kZXNpZ25lci5lZGl0b3Iud2hpdGVib2FyZCcpLmNvbnRyb2xsZXIoJ0NvbnRhaW5lckRpcmVjdGl2ZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRyb290U2NvcGUsIGFycmF5cywgY29tcG9uZW50VXRpbHMpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgJHNjb3BlLnJlc2l6YWJsZSA9IHRydWU7XG5cbiAgJHNjb3BlLm1vdmVSb3dVcCA9IGZ1bmN0aW9uKHJvdywgZXZlbnQpIHtcbiAgICBhcnJheXMubW92ZUxlZnQocm93LCAkc2NvcGUuY29udGFpbmVyLnJvd3MpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9O1xuXG4gICRzY29wZS5tb3ZlUm93RG93biA9IGZ1bmN0aW9uKHJvdywgZXZlbnQpIHtcbiAgICBhcnJheXMubW92ZVJpZ2h0KHJvdywgJHNjb3BlLmNvbnRhaW5lci5yb3dzKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfTtcblxuICAkc2NvcGUubW92ZVJvd1VwVmlzaWJsZSA9IGZ1bmN0aW9uKHJvdykge1xuICAgIHJldHVybiBhcnJheXMubW92ZUxlZnRQb3NzaWJsZShyb3csICRzY29wZS5jb250YWluZXIucm93cyk7XG4gIH07XG5cbiAgJHNjb3BlLm1vdmVSb3dEb3duVmlzaWJsZSA9IGZ1bmN0aW9uKHJvdykge1xuICAgIHJldHVybiBhcnJheXMubW92ZVJpZ2h0UG9zc2libGUocm93LCAkc2NvcGUuY29udGFpbmVyLnJvd3MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGVuIEkgZHJvcCBhbiBpdGVtIGFscmVhZHkgY29uZmlndXJlZCBJIHdhbnQgdG8gcmVtb3ZlIGl0IGZyb20gaXRzIGN1cnJlbnQgcm93IGluIG9yZGVyIHRvIGF0dGFjaCBpdCBpbiBhbm90aGVyIG9uZS5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBkYXRhIFdpZGdldCBjb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSAge0FycmF5fSByb3cgIGN1cnJlbnQgcm93XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICAkc2NvcGUuZHJvcEl0ZW0gPSBmdW5jdGlvbihkYXRhLCByb3cpIHtcblxuICAgIC8vIFlvdSBjYW5ub3QgZHJvcCBhIGNvbnRhaW5lciBpbnNpZGUgaXRzZWxmLCBub3IgaW4gaXRzIGNoaWxkcmVuXG4gICAgaWYgKCFjb21wb25lbnRVdGlscy5pc01vdmFibGUoZGF0YSwgJHNjb3BlLmNvbXBvbmVudCB8fCAkc2NvcGUuY29udGFpbmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICRzY29wZS5lZGl0b3Iuc2VsZWN0Um93KCRzY29wZS5jb250YWluZXIsIHJvdyk7XG4gICAgJHNjb3BlLmVkaXRvci5yZW1vdmVDdXJyZW50Q29tcG9uZW50KGRhdGEsIHJvdyk7XG4gIH07XG5cbiAgJHNjb3BlLnJlbW92ZVJvdyA9IGZ1bmN0aW9uKHJvdykge1xuICAgICRzY29wZS5lZGl0b3Iuc2VsZWN0Um93KCRzY29wZS5jb250YWluZXIsIHJvdyk7XG4gICAgJHNjb3BlLmVkaXRvci5yZW1vdmVDdXJyZW50Um93KCk7XG4gIH07XG5cbiAgJHNjb3BlLmRyb3BBdEVuZE9mVGhlUm93ID0gZnVuY3Rpb24oZGF0YSwgZXZlbnQsIHJvdykge1xuXG4gICAgcm93ID0gcm93IHx8IFtdO1xuICAgIC8vIElmIHlvdSBhcmUgdHJ5aW5nIHRvIGRyYWdBbmREcm9wIGEgd2lkZ2V0IGFscmVhZHkgZGVmaW5lZFxuICAgIGlmIChkYXRhLiQkd2lkZ2V0KSB7XG5cbiAgICAgIGlmICghY29tcG9uZW50VXRpbHMuaXNNb3ZhYmxlKGRhdGEsICRzY29wZS5jb21wb25lbnQgfHwgJHNjb3BlLmNvbnRhaW5lcikpICB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgICRzY29wZS5lZGl0b3Iuc2VsZWN0Um93KCRzY29wZS5jb250YWluZXIsIHJvdyk7XG4gICAgICAkc2NvcGUuZWRpdG9yLmRyb3BFbGVtZW50KGRhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICRzY29wZS5lZGl0b3IuYWRkQ29tcG9uZW50VG9Sb3coZGF0YSwgJHNjb3BlLmNvbnRhaW5lciwgcm93KTtcbiAgfTtcblxuICAkc2NvcGUuZHJvcEJlZm9yZVJvdyA9IGZ1bmN0aW9uKGRhdGEsIGV2ZW50LCByb3dJbmRleCwgcm93cykge1xuICAgIHZhciBjdXJyZW50Q29tcG9uZW50ID0gJHNjb3BlLmNvbXBvbmVudCB8fCAkc2NvcGUuY29udGFpbmVyO1xuICAgIC8vIERvIG5vdCBhZGQgYSByb3cgaWYgdGhlIGNvbnRhaW5lciBpcyBub3QgbW92YWJsZVxuICAgIGlmIChjdXJyZW50Q29tcG9uZW50LmlkIHx8IGNvbXBvbmVudFV0aWxzLmlzTW92YWJsZShkYXRhLCBjdXJyZW50Q29tcG9uZW50KSkge1xuICAgICAgcm93cy5zcGxpY2Uocm93SW5kZXgsIDAsIFtdKTtcbiAgICB9XG4gICAgJHNjb3BlLmRyb3BBdEVuZE9mVGhlUm93KGRhdGEsIGV2ZW50LCByb3dzW3Jvd0luZGV4XSk7XG4gIH07XG5cbiAgJHNjb3BlLmRyb3BBZnRlclJvdyA9IGZ1bmN0aW9uKGRhdGEsIGV2ZW50LCByb3dJbmRleCwgcm93cykge1xuICAgIHZhciBjdXJyZW50Q29tcG9uZW50ID0gJHNjb3BlLmNvbXBvbmVudCB8fCAkc2NvcGUuY29udGFpbmVyO1xuXG4gICAgLy8gRG8gbm90IGFkZCBhIHJvdyBpZiB0aGUgY29udGFpbmVyIGlzIG5vdCBtb3ZhYmxlXG4gICAgaWYgKGN1cnJlbnRDb21wb25lbnQuaWQgfHwgY29tcG9uZW50VXRpbHMuaXNNb3ZhYmxlKGRhdGEsIGN1cnJlbnRDb21wb25lbnQpKSB7XG4gICAgICByb3dJbmRleCA9IHJvd0luZGV4ICsgMTtcbiAgICAgIHJvd3Muc3BsaWNlKHJvd0luZGV4LCAwLCBbXSk7XG4gICAgfVxuICAgICRzY29wZS5kcm9wQXRFbmRPZlRoZVJvdyhkYXRhLCBldmVudCwgcm93c1tyb3dJbmRleF0pO1xuICB9O1xuXG4gICRzY29wZS5pc0VtcHR5ID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudFV0aWxzLmlzRW1wdHkoY29udGFpbmVyKTtcbiAgfTtcblxuICAkc2NvcGUuaXNSZXBlYXRlZCA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICAgIHJldHVybiBjb250YWluZXIgJiYgY29udGFpbmVyLnByb3BlcnR5VmFsdWVzICYmIGNvbnRhaW5lci5wcm9wZXJ0eVZhbHVlcy5yZXBlYXRlZENvbGxlY3Rpb24gJiYgY29udGFpbmVyLnByb3BlcnR5VmFsdWVzLnJlcGVhdGVkQ29sbGVjdGlvbi52YWx1ZTtcbiAgfTtcbn0pO1xuIl19</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Jun 28 2016 07:45:53 GMT+0530 (IST)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
