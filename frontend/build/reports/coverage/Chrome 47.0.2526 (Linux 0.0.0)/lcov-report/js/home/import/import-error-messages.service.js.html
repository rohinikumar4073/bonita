<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for js/home/import/import-error-messages.service.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">js/home/import/import-error-messages.service.js</span></h1>
    <h2>
        Statements: <span class="metric">100% <small>(18 / 18)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">100% <small>(8 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">100% <small>(5 / 5)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">100% <small>(18 / 18)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">js/home/import/</a> &#187; import-error-messages.service.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">29</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">29</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">15</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';(function () {
&nbsp;
  'use strict';
&nbsp;
  angular.
  module('bonitasoft.designer.home.import').
  service('importErrorMessagesService', importErrorMessagesService);
&nbsp;
  function importErrorMessagesService(gettextCatalog, gettext) {
&nbsp;
    var ERRORS = { 
      'SERVER_ERROR': { 
        cause: gettext('A server error occurred.'), 
        additionalInfos: gettext('Check the log files') }, 
&nbsp;
      'PAGE_NOT_FOUND': { 
        cause: gettext('Incorrect zip structure.'), 
        additionalInfos: gettext('Check that the zip archive contains the file {{ infos.modelfile }}.') }, 
&nbsp;
      'MODEL_NOT_FOUND': { 
        cause: gettext('Incorrect zip structure.'), 
        additionalInfos: gettext('Check that the zip archive contains one of following files {{ infos.modelfiles }}.') }, 
&nbsp;
      'UNEXPECTED_ZIP_STRUCTURE': { 
        cause: gettext('Incorrect zip structure.'), 
        additionalInfos: gettext('Check that the zip file structure matches a standard UI Designer export.') }, 
&nbsp;
      'CANNOT_OPEN_ZIP': { 
        cause: gettext('Corrupted zip archive.') }, 
&nbsp;
      'JSON_STRUCTURE': { 
        cause: gettext('Invalid {{ infos.modelfile }} json file structure'), 
        additionalInfos: gettext('Check that the json file structure matches a standard UI Designer export.') } };
&nbsp;
&nbsp;
&nbsp;
    return { 
      getErrorContext: getErrorContext };
&nbsp;
&nbsp;
    function getErrorContext(error, artifactType) {
      var errorInfos = ERRORS[error.type] || { cause: error.message };
      var errorContext = { consequence: getConsequence(artifactType) };
      Object.keys(errorInfos).
      forEach(function (name) {return errorContext[name] = gettextCatalog.getString(errorInfos[name], error);});
      return errorContext;}
&nbsp;
&nbsp;
    /**
     * Need multiple keys to manage gender translations
     */
    function getConsequence(artifactType) {
      artifactType = artifactType || gettext('artifact');
      if (artifactType === 'page') {
        return gettext('The page has not been imported.');}
&nbsp;
&nbsp;
      if (artifactType === 'widget') {
        return gettext('The widget has not been imported.');}
&nbsp;
&nbsp;
      return gettextCatalog.getString('The {{ artifactType }} has not been imported.', { artifactType: gettextCatalog.getString(artifactType) });}}})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltcG9ydC1lcnJvci1tZXNzYWdlcy5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJhQUFBLENBQUMsWUFBVzs7QUFFVjs7QUFFQTtBQUNHLFFBREgsQ0FDVSxpQ0FEVjtBQUVHLFNBRkgsQ0FFVyw0QkFGWCxFQUV5QywwQkFGekM7O0FBSUEsV0FBUywwQkFBVCxDQUFvQyxjQUFwQyxFQUFvRCxPQUFwRCxFQUE2RDs7QUFFM0QsUUFBTSxTQUFTO0FBQ2Isc0JBQWdCO0FBQ2QsZUFBTyxRQUFRLDBCQUFSLENBRE87QUFFZCx5QkFBaUIsUUFBUSxxQkFBUixDQUZILEVBREg7O0FBS2Isd0JBQWtCO0FBQ2hCLGVBQU8sUUFBUSwwQkFBUixDQURTO0FBRWhCLHlCQUFpQixRQUFRLHFFQUFSLENBRkQsRUFMTDs7QUFTYix5QkFBbUI7QUFDakIsZUFBTyxRQUFRLDBCQUFSLENBRFU7QUFFakIseUJBQWlCLFFBQVEsb0ZBQVIsQ0FGQSxFQVROOztBQWFiLGtDQUE0QjtBQUMxQixlQUFPLFFBQVEsMEJBQVIsQ0FEbUI7QUFFMUIseUJBQWlCLFFBQVEsMEVBQVIsQ0FGUyxFQWJmOztBQWlCYix5QkFBbUI7QUFDakIsZUFBTyxRQUFRLHdCQUFSLENBRFUsRUFqQk47O0FBb0JiLHdCQUFrQjtBQUNoQixlQUFPLFFBQVEsbURBQVIsQ0FEUztBQUVoQix5QkFBaUIsUUFBUSwyRUFBUixDQUZELEVBcEJMLEVBQWY7Ozs7QUEwQkEsV0FBTztBQUNMLHNDQURLLEVBQVA7OztBQUlBLGFBQVMsZUFBVCxDQUF5QixLQUF6QixFQUFnQyxZQUFoQyxFQUE4QztBQUM1QyxVQUFJLGFBQWEsT0FBTyxNQUFNLElBQWIsS0FBc0IsRUFBRSxPQUFPLE1BQU0sT0FBZixFQUF2QztBQUNBLFVBQUksZUFBZSxFQUFFLGFBQWEsZUFBZSxZQUFmLENBQWYsRUFBbkI7QUFDQSxhQUFPLElBQVAsQ0FBWSxVQUFaO0FBQ0csYUFESCxDQUNXLFVBQUMsSUFBRCxVQUFVLGFBQWEsSUFBYixJQUFxQixlQUFlLFNBQWYsQ0FBeUIsV0FBVyxJQUFYLENBQXpCLEVBQTJDLEtBQTNDLENBQS9CLEVBRFg7QUFFQSxhQUFPLFlBQVAsQ0FDRDs7Ozs7O0FBS0QsYUFBUyxjQUFULENBQXdCLFlBQXhCLEVBQXNDO0FBQ3BDLHFCQUFlLGdCQUFnQixRQUFRLFVBQVIsQ0FBL0I7QUFDQSxVQUFJLGlCQUFpQixNQUFyQixFQUE2QjtBQUMzQixlQUFPLFFBQVEsaUNBQVIsQ0FBUCxDQUNEOzs7QUFFRCxVQUFJLGlCQUFpQixRQUFyQixFQUErQjtBQUM3QixlQUFPLFFBQVEsbUNBQVIsQ0FBUCxDQUNEOzs7QUFFRCxhQUFPLGVBQWUsU0FBZixDQUF5QiwrQ0FBekIsRUFBMEUsRUFBRSxjQUFjLGVBQWUsU0FBZixDQUF5QixZQUF6QixDQUFoQixFQUExRSxDQUFQLENBQ0QsQ0FDRixDQUNGLENBaEVEIiwiZmlsZSI6ImltcG9ydC1lcnJvci1tZXNzYWdlcy5zZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYm9uaXRhc29mdC5kZXNpZ25lci5ob21lLmltcG9ydCcpXG4gICAgLnNlcnZpY2UoJ2ltcG9ydEVycm9yTWVzc2FnZXNTZXJ2aWNlJywgaW1wb3J0RXJyb3JNZXNzYWdlc1NlcnZpY2UpO1xuXG4gIGZ1bmN0aW9uIGltcG9ydEVycm9yTWVzc2FnZXNTZXJ2aWNlKGdldHRleHRDYXRhbG9nLCBnZXR0ZXh0KSB7XG5cbiAgICBjb25zdCBFUlJPUlMgPSB7XG4gICAgICAnU0VSVkVSX0VSUk9SJzoge1xuICAgICAgICBjYXVzZTogZ2V0dGV4dCgnQSBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQuJyksXG4gICAgICAgIGFkZGl0aW9uYWxJbmZvczogZ2V0dGV4dCgnQ2hlY2sgdGhlIGxvZyBmaWxlcycpXG4gICAgICB9LFxuICAgICAgJ1BBR0VfTk9UX0ZPVU5EJzoge1xuICAgICAgICBjYXVzZTogZ2V0dGV4dCgnSW5jb3JyZWN0IHppcCBzdHJ1Y3R1cmUuJyksXG4gICAgICAgIGFkZGl0aW9uYWxJbmZvczogZ2V0dGV4dCgnQ2hlY2sgdGhhdCB0aGUgemlwIGFyY2hpdmUgY29udGFpbnMgdGhlIGZpbGUge3sgaW5mb3MubW9kZWxmaWxlIH19LicpXG4gICAgICB9LFxuICAgICAgJ01PREVMX05PVF9GT1VORCc6IHtcbiAgICAgICAgY2F1c2U6IGdldHRleHQoJ0luY29ycmVjdCB6aXAgc3RydWN0dXJlLicpLFxuICAgICAgICBhZGRpdGlvbmFsSW5mb3M6IGdldHRleHQoJ0NoZWNrIHRoYXQgdGhlIHppcCBhcmNoaXZlIGNvbnRhaW5zIG9uZSBvZiBmb2xsb3dpbmcgZmlsZXMge3sgaW5mb3MubW9kZWxmaWxlcyB9fS4nKVxuICAgICAgfSxcbiAgICAgICdVTkVYUEVDVEVEX1pJUF9TVFJVQ1RVUkUnOiB7XG4gICAgICAgIGNhdXNlOiBnZXR0ZXh0KCdJbmNvcnJlY3QgemlwIHN0cnVjdHVyZS4nKSxcbiAgICAgICAgYWRkaXRpb25hbEluZm9zOiBnZXR0ZXh0KCdDaGVjayB0aGF0IHRoZSB6aXAgZmlsZSBzdHJ1Y3R1cmUgbWF0Y2hlcyBhIHN0YW5kYXJkIFVJIERlc2lnbmVyIGV4cG9ydC4nKVxuICAgICAgfSxcbiAgICAgICdDQU5OT1RfT1BFTl9aSVAnOiB7XG4gICAgICAgIGNhdXNlOiBnZXR0ZXh0KCdDb3JydXB0ZWQgemlwIGFyY2hpdmUuJylcbiAgICAgIH0sXG4gICAgICAnSlNPTl9TVFJVQ1RVUkUnOiB7XG4gICAgICAgIGNhdXNlOiBnZXR0ZXh0KCdJbnZhbGlkIHt7IGluZm9zLm1vZGVsZmlsZSB9fSBqc29uIGZpbGUgc3RydWN0dXJlJyksXG4gICAgICAgIGFkZGl0aW9uYWxJbmZvczogZ2V0dGV4dCgnQ2hlY2sgdGhhdCB0aGUganNvbiBmaWxlIHN0cnVjdHVyZSBtYXRjaGVzIGEgc3RhbmRhcmQgVUkgRGVzaWduZXIgZXhwb3J0LicpXG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXRFcnJvckNvbnRleHRcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0RXJyb3JDb250ZXh0KGVycm9yLCBhcnRpZmFjdFR5cGUpIHtcbiAgICAgIHZhciBlcnJvckluZm9zID0gRVJST1JTW2Vycm9yLnR5cGVdIHx8IHsgY2F1c2U6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICAgIHZhciBlcnJvckNvbnRleHQgPSB7IGNvbnNlcXVlbmNlOiBnZXRDb25zZXF1ZW5jZShhcnRpZmFjdFR5cGUpIH07XG4gICAgICBPYmplY3Qua2V5cyhlcnJvckluZm9zKVxuICAgICAgICAuZm9yRWFjaCgobmFtZSkgPT4gZXJyb3JDb250ZXh0W25hbWVdID0gZ2V0dGV4dENhdGFsb2cuZ2V0U3RyaW5nKGVycm9ySW5mb3NbbmFtZV0sIGVycm9yKSk7XG4gICAgICByZXR1cm4gZXJyb3JDb250ZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5lZWQgbXVsdGlwbGUga2V5cyB0byBtYW5hZ2UgZ2VuZGVyIHRyYW5zbGF0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldENvbnNlcXVlbmNlKGFydGlmYWN0VHlwZSkge1xuICAgICAgYXJ0aWZhY3RUeXBlID0gYXJ0aWZhY3RUeXBlIHx8IGdldHRleHQoJ2FydGlmYWN0Jyk7XG4gICAgICBpZiAoYXJ0aWZhY3RUeXBlID09PSAncGFnZScpIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoJ1RoZSBwYWdlIGhhcyBub3QgYmVlbiBpbXBvcnRlZC4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFydGlmYWN0VHlwZSA9PT0gJ3dpZGdldCcpIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoJ1RoZSB3aWRnZXQgaGFzIG5vdCBiZWVuIGltcG9ydGVkLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0dGV4dENhdGFsb2cuZ2V0U3RyaW5nKCdUaGUge3sgYXJ0aWZhY3RUeXBlIH19IGhhcyBub3QgYmVlbiBpbXBvcnRlZC4nLCB7IGFydGlmYWN0VHlwZTogZ2V0dGV4dENhdGFsb2cuZ2V0U3RyaW5nKGFydGlmYWN0VHlwZSkgfSk7XG4gICAgfVxuICB9XG59KSgpO1xuIl19</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Jun 28 2016 07:45:53 GMT+0530 (IST)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
